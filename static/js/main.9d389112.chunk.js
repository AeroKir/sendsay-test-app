(this["webpackJsonpsendsay-email-send-app"]=this["webpackJsonpsendsay-email-send-app"]||[]).push([[0],Array(19).concat([function(e,t,a){e.exports=a.p+"static/media/icon-warning.43ccd05e.svg"},,,,,function(e,t,a){e.exports=a.p+"static/media/icon-clip-big.85f937d4.svg"},,function(e,t,a){e.exports=a.p+"static/media/LOGO.bb549f93.svg"},function(e,t,a){e.exports=a(52)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(13),i=a.n(r),s=a(11),o=a(10),c=a(22),u=a(23),d=a(15),m=a(3),h={senderName:"",senderEmail:"",receiverName:"",receiverEmail:"",messageSubject:"",messageText:"",attachedFiles:[],sendedMessages:[]},f="GET_INPUT_VALUE",p="GET_SENT_MESSAGE_INFO",g="STORE_ATTACHED_FILE",v="REMOVE_ATTACHED_FILE",b="RESET_FORM_STATE",F="GET_SENT_MESSAGE_ID",E="GET_SENT_MESSAGE_STATUS";var S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:for(var a=Object.keys(e),n=e,l=0;l<a.length;l+=1)if(a[l]===t.payload.inputName)return n[a[l]]=t.payload.inputValue,e;return Object(m.a)({},e,{newState:n});case g:return Object(m.a)({},e,{attachedFiles:[].concat(Object(d.a)(e.attachedFiles),[{name:t.payload.name,content:t.payload.content,encoding:"base64"}])});case v:return Object(m.a)({},e,{attachedFiles:e.attachedFiles.filter((function(e){return e.name!==t.payload.name}))});case b:return{senderName:"",senderEmail:"",receiverName:"",receiverEmail:"",messageSubject:"",messageText:"",attachedFiles:[],sendedMessages:Object(d.a)(e.sendedMessages)};case p:return Object(m.a)({},e,{sendedMessages:[].concat(Object(d.a)(e.sendedMessages),[{id:"",date:t.payload.sendingDate,subject:t.payload.messageSubject,status:"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",statusValue:""}])});case F:var r=e.sendedMessages.map((function(e){return e.id?Object(m.a)({},e):Object(m.a)({},e,{id:t.payload.id})}));return Object(m.a)({},e,{sendedMessages:r});case E:var i=e.sendedMessages.map((function(e){if(e.id===t.payload.id){if(-1===t.payload.status)return Object(m.a)({},e,{status:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e",statusValue:t.payload.status});if(t.payload.status<-1)return Object(m.a)({},e,{status:"\u041e\u0448\u0438\u0431\u043a\u0430",statusValue:t.payload.status});if(t.payload.status>-1)return Object(m.a)({},e,{status:"\u0412 \u043e\u0447\u0435\u0440\u0435\u0434\u0438",statusValue:t.payload.status})}return Object(m.a)({},e)}));return Object(m.a)({},e,{sendedMessages:i});default:return e}},k=Object(o.combineReducers)({sendFormReducer:S}),y=Object(o.createStore)(k,Object(u.composeWithDevTools)(Object(o.applyMiddleware)(c.a))),N=a(4),j=a(5),O=a(8),I=a(6),M=a(2),T=a(7),D=a(1),B=a.n(D);a(37);function C(e){var t=e.src,a=e.alt,n=e.className,r=B()("Icon--default",n);return l.a.createElement("img",{src:t,alt:a,className:r})}C.defaultProps={className:""};var w=C,x=a(14);a(38);function R(e){var t=e.onSubmit,a=e.children,n=e.className,r=e.encType,i=B()("MessageSendForm",n);return l.a.createElement("form",{onSubmit:t,className:i,encType:r},l.a.createElement("h1",{className:"Heading MessageSendForm-mainHeading"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u043a\u0430 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439"),a)}R.defaultProps={children:null,className:"",encType:""};var A=R;a(39);function H(e){var t=e.id,a=e.type,n=e.name,r=e.className,i=e.label,s=e.placeholder,o=e.error,c=e.errorMessage,u=e.onChange,d=e.onBlur,m=e.inputHalfLeft,h=e.inputHalfRight,f=B()("InputWrapper",r),p=B()("Input",r,{"Input--halfLeft":m,"Input--halfRight":h}),g=B()("Input-label",r),v=B()("is-error");return l.a.createElement("div",{className:f},l.a.createElement("label",{htmlFor:t,className:g},i),l.a.createElement("input",{id:t,type:a,name:n,className:p,placeholder:s,onChange:u,onBlur:d}),o&&l.a.createElement("span",{className:v},c))}H.defaultProps={name:"",className:"",label:"",placeholder:"Input placeholder",error:!1,errorMessage:"",onChange:function(){},onBlur:function(){},inputHalfLeft:!1,inputHalfRight:!1};var L=H;a(40);function P(e){var t=e.id,a=e.className,n=e.label,r=e.name,i=e.placeholder,s=e.onChange,o=e.onBlur,c=e.error,u=e.errorMessage,d=B()("TextareaWrapper",a),m=B()("Textarea-label",a),h=B()("Textarea",a),f=B()("is-error-textarea");return l.a.createElement("div",{className:d},l.a.createElement("label",{htmlFor:t,className:m},n),l.a.createElement("textarea",{id:t,name:r,className:h,placeholder:i,onChange:s,onBlur:o}),c&&l.a.createElement("span",{className:f},u))}P.defaultProps={className:"",label:"",name:"",placeholder:"Textarea placeholder",onChange:function(){},onBlur:function(){},error:!1,errorMessage:""};var z=P;a(41);function V(e){var t=e.className,a=e.onClick,n=e.disabled,r=e.centered,i=e.buttonText,s=e.secondaryButton,o=B()("Button",t,{"is-disabled":n,"is-centered":r,"Button--secondary":s});return l.a.createElement("button",{className:o,type:"submit",onClick:function(e){return n&&e.preventDefault(),a(e)},disabled:n},i)}V.defaultProps={className:"",onClick:function(){},disabled:!1,centered:!1,buttonText:"Button",secondaryButton:!1};var _=V;a(42);function W(e){var t=e.children,a=e.className,n=e.infoBlockHeading,r=e.infoBlockMessage,i=e.transparent,s=e.positionAbsolute,o=e.src,c=e.alt,u=e.showIcon,d=e.footerContent,m=B()("InfoBlock",a,{"InfoBlock--transparent":i,"InfoBlock--positionAbsolute":s}),h=B()("InfoBlock-icon",{"is-showed":u});return l.a.createElement("div",{className:m},l.a.createElement("div",{className:"InfoBlock-content"},l.a.createElement(w,{src:o,alt:c,className:h}),l.a.createElement("h1",{className:"InfoBlock-mainHeading"},n),l.a.createElement("p",{className:"InfoBlock-message"},r),t),l.a.createElement("footer",{className:"InfoBlock-footer"},d))}W.defaultProps={children:null,className:"",infoBlockHeading:"Info Block Heading",infoBlockMessage:"Info Block Message",transparent:!1,positionAbsolute:!1,src:"",alt:"",showIcon:!1,footerContent:null};var U=W,G=(a(43),l.a.forwardRef((function(e,t){var a=e.id,n=e.name,r=e.className,i=e.onChange,s=e.onFocus,o=e.onClick,c=e.label,u=e.withoutLabel,d=B()("InputTypeFileWrapper",r),m=B()("InputTypeFile",r),h=B()("InputTypeFile-label",r,{"InputTypeFile-withoutLabel":u});return l.a.createElement("div",{className:d},l.a.createElement("input",{id:a,type:"file",ref:t,name:n,className:m,onChange:i,onFocus:s,onClick:o,multiple:!0}),l.a.createElement("label",{htmlFor:a,className:h},c))})));G.defaultProps={id:"",name:"",className:"",onChange:function(){},onFocus:function(){},onClick:function(){},label:"",withoutLabel:!1};var K=G,q=(a(44),a(24)),J=a.n(q);function Z(e){var t=e.id,a=e.className,n=e.fileName,r=e.onClick,i=e.firstInRow,s=e.children,o=B()("AttachedFileFieldWrapper",a),c=B()("AttachedFileField",a,{"AttachedFileField--firstInRow":i});return l.a.createElement("div",{className:o},l.a.createElement("div",{className:c,id:t},l.a.createElement(w,{className:"AttachedFileField-icon",src:J.a,alt:"Trash icon"}),l.a.createElement("span",{className:"AttachedFileField-fileNameField"},n),l.a.createElement(_,{type:"button",className:"AttachedFileField-button",buttonText:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",onClick:r})),s)}Z.defaultProps={id:"",className:"",fileName:"",firstInRow:!1,onClick:function(){},children:null};var X=Z;a(45);function $(e){var t=e.className,a=e.onDragOver,n=e.onDragLeave,r=e.onDrop,i=e.onChange,s=e.dragOver,o=e.onClick,c=e.onKeyPress,u=e.refInput,d=B()("FileReceiver",t),m=B()("FileReceiver-dragZone",t,{"is-dragOver":s});return l.a.createElement("div",{className:d},l.a.createElement("div",{className:m,onDragOver:a,onDragLeave:n,onDrop:r,onChange:i,onClick:o,onKeyPress:c,role:"dialog"},l.a.createElement("div",{className:"FileReceiver-content"},l.a.createElement("h1",{className:"FileReceiver-mainHeading"},"\u0411\u0440\u043e\u0441\u0430\u0439\u0442\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u044e\u0434\u0430, \u044f \u043b\u043e\u0432\u043b\u044e"),l.a.createElement("p",{className:"FileReceiver-explanation"},"\u041c\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (jpg, png, gif), \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (doc, xls, pdf) \u0438 zip-\u0430\u0440\u0445\u0438\u0432\u044b. \u0420\u0430\u0437\u043c\u0435\u0440\u044b \u0444\u0430\u0439\u043b\u0430 \u0434\u043e 5 \u041c\u0411")),l.a.createElement(K,{ref:u,onClick:o,withoutLabel:!0})))}$.defaultProps={className:"",onDragOver:function(){},onDragLeave:function(){},onDrop:function(){},onChange:function(){},dragOver:!1,onClick:function(){},onKeyPress:function(){},refInput:function(){}};var Q=$,Y=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(O.a)(this,Object(I.a)(t).call(this,e))).element=document.createElement("div"),a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){document.body.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){document.body.removeChild(this.element)}},{key:"render",value:function(){var e=this.props.children;return i.a.createPortal(e,this.element)}}]),t}(l.a.Component);Y.defaultProps={children:null};var ee=Y;a(46);function te(e){var t=e.isOpen,a=e.className,n=e.modalHeading,r=e.modalContent,i=e.onCancel,s=e.onSubmit,o=e.children,c=B()("Modal",a),u=B()("ModalInner",a);return l.a.createElement(l.a.Fragment,null,t&&l.a.createElement(ee,null,l.a.createElement("div",{className:c},l.a.createElement("div",{className:u},l.a.createElement("h1",{className:"Modal-heading"},n),l.a.createElement("p",{className:"Modal-content"},r),o,l.a.createElement("footer",{className:"Modal-footer"},l.a.createElement(_,{type:"button",className:"Modal-button Modal-button--cancel",buttonText:"\u041e\u0442\u043c\u0435\u043d\u0430",onClick:i}),l.a.createElement(_,{type:"submit",className:"Modal-button Modal-button--confirm",buttonText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",onClick:s}))))))}te.defaultProps={isOpen:!1,className:"",modalHeading:"Modal heading",modalContent:"Modal content",onCancel:function(){},onSubmit:function(){},children:null};var ae=te;a(47);function ne(e){var t=e.children,a=e.className,n=B()("ExtraContentBlock",a);return l.a.createElement("div",{className:n},t)}ne.defaultProps={children:"Default button",className:""};var le=ne;a(48);function re(e){var t=e.children,a=e.className,n=B()("TextBlock",a);return l.a.createElement("span",{className:n},t)}re.defaultProps={children:"Default button",className:""};var ie=re;var se=function(e){for(var t=[],a=0;a<e.length;a+=1)t.push(e[a]);return t};var oe=function(e){if(e.length>23){var t=e.lastIndexOf("."),a=e.slice(t-e.length),n=e.slice(0,20);return"".concat(n,"..").concat(a)}return e};var ce=function(){return"_".concat(Math.random().toString(16).substr(2,9))},ue=a(19),de=a.n(ue),me="image/png, image/jpg, image/jpeg, image/gif, application/pdf, text/plain, application/msword, application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/zip".split(",").map((function(e){return e.trim()})),he=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(O.a)(this,Object(I.a)(t).call(this,e))).state={fileReceiverState:{isFileReceiverShowed:!1,isDragOver:!1},isModalShowed:!1,attachedFiles:[],attachedFileSizes:[],rejectedFiles:[],warningMessage:"",indexForFileDeletion:0,nameFileForDeletion:"",isTtotalFilesSizeLimitAchieved:!1},a.fileInputRef=l.a.createRef(),a.deleteFile=a.deleteFile.bind(Object(M.a)(a)),a.openFileDialog=a.openFileDialog.bind(Object(M.a)(a)),a.closeInfoBlock=a.closeInfoBlock.bind(Object(M.a)(a)),a.toggleModal=a.toggleModal.bind(Object(M.a)(a)),a.handleFileInputClick=a.handleFileInputClick.bind(Object(M.a)(a)),a.handleFileInputChange=a.handleFileInputChange.bind(Object(M.a)(a)),a.handleFileDelete=a.handleFileDelete.bind(Object(M.a)(a)),a.handleDragOver=a.handleDragOver.bind(Object(M.a)(a)),a.handleDragLeave=a.handleDragLeave.bind(Object(M.a)(a)),a.handleDrop=a.handleDrop.bind(Object(M.a)(a)),a.convertFileToBase64=a.convertFileToBase64.bind(Object(M.a)(a)),a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"checkAttachedFiles",value:function(e){var t=this;e.forEach((function(e){(e.size>=5242880||!me.includes(e.type))&&(t.setState((function(t){return{fileReceiverState:!t.fileReceiverState.isFileReceiverShowed,rejectedFiles:t.rejectedFiles.concat(e)}})),e.size>=5242880&&t.setState({warningMessage:"\u0424\u0430\u0439\u043b\u044b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u0435. \u0420\u0430\u0437\u043c\u0435\u0440 \u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 5 \u041c\u0411."}),me.includes(e.type)||t.setState({warningMessage:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0444\u0430\u0439\u043b\u0430. \u041c\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (jpg, png, gif), \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (doc, xls, pdf) \u0438 zip-\u0430\u0440\u0445\u0438\u0432\u044b."}),e.size>=5242880&&!me.includes(e.type)&&t.setState({warningMessage:"\u041d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438 \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u0430. \u041c\u044b \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 (jpg, png, gif), \u043e\u0444\u0438\u0441\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b (doc, xls, pdf) \u0438 zip-\u0430\u0440\u0445\u0438\u0432\u044b. \u0420\u0430\u0437\u043c\u0435\u0440 \u043e\u0434\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 5 \u041c\u0411."})),e.size<=5242880&&me.includes(e.type)&&(t.setState((function(t){return{fileReceiverState:!t.fileReceiverState.isFileReceiverShowed,attachedFiles:t.attachedFiles.concat(e),attachedFileSizes:t.attachedFileSizes.concat(e.size)}})),t.convertFileToBase64(e))}))}},{key:"checkAttachedFilesTotalSize",value:function(){var e=this.state.attachedFileSizes;e.reduce((function(e,t){return e+t}),e[0])>=20971520&&this.setState({isTtotalFilesSizeLimitAchieved:!0,warningMessage:"\u0412\u044b \u0434\u043e\u0441\u0442\u0438\u0433\u043b\u0438 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u044f\u0435\u043c\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u043d\u0430 \u043e\u0434\u043d\u043e \u043f\u0438\u0441\u044c\u043c\u043e. \u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 20 \u041c\u0411.\n        \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0443\u0434\u0430\u043b\u0438\u0442\u0435 \u043e\u0434\u0438\u043d \u0438\u043b\u0438 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0430\u0439\u043b\u043e\u0432."})}},{key:"handleFileInputChange",value:function(e){var t=e.target.files,a=se(t);this.checkAttachedFiles(a),this.checkAttachedFilesTotalSize()}},{key:"convertFileToBase64",value:function(e){var t=this.props.storeFileInRedux,a=e.name,n=new FileReader;n.readAsDataURL(e),n.onload=function(){t(a,n.result)}}},{key:"handleFileInputClick",value:function(){this.setState({fileReceiverState:{isFileReceiverShowed:!0},rejectedFiles:[]})}},{key:"openFileDialog",value:function(e){e.preventDefault(),this.setState({rejectedFiles:[]}),this.fileInputRef.current.click()}},{key:"toggleModal",value:function(){this.setState((function(e){return{isModalShowed:!e.isModalShowed}}))}},{key:"closeInfoBlock",value:function(){this.setState({rejectedFiles:[],isTtotalFilesSizeLimitAchieved:!1})}},{key:"handleFileDelete",value:function(e,t){this.setState((function(a){return{isModalShowed:!a.isModalShowed,indexForFileDeletion:e,nameFileForDeletion:t}}))}},{key:"deleteFile",value:function(){var e=this.state,t=e.attachedFiles,a=e.attachedFileSizes,n=e.indexForFileDeletion,l=e.nameFileForDeletion,r=this.props.removeFileFromReduxStore;this.setState({attachedFiles:t.filter((function(e,t){return t!==n})),attachedFileSizes:a.filter((function(e,t){return t!==n}))}),this.setState((function(e){return{isModalShowed:!e.isModalShowed}})),r(l)}},{key:"handleDragOver",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState((function(e){var t=e;return t.fileReceiverState.isDragOver=!0,t}))}},{key:"handleDragLeave",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState((function(e){var t=e;return t.fileReceiverState.isDragOver=!1,t}))}},{key:"handleDrop",value:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.files,a=se(t);this.checkAttachedFiles(a),this.checkAttachedFilesTotalSize()}},{key:"render",value:function(){var e=this,t=this.state,a=t.fileReceiverState,r=a.isFileReceiverShowed,i=a.isDragOver,s=t.isModalShowed,o=t.attachedFiles,c=t.rejectedFiles,u=t.warningMessage,d=t.isTtotalFilesSizeLimitAchieved;return l.a.createElement(l.a.Fragment,null,r&&l.a.createElement(Q,{id:"file-receiver",ref:this.fileInputRef,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,dragOver:i,onChange:this.handleFileInputChange,onClick:this.openFileDialog}),o.length>0?o.map((function(t,a){return l.a.createElement(X,{key:ce(),fileName:oe(t.name),onClick:function(){return e.handleFileDelete(a,t.name)},firstInRow:a%2===0})})):null,l.a.createElement(ae,{isOpen:s,modalHeading:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435",modalContent:"\u0424\u0430\u0439\u043b \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043b\u0451\u043d.",onCancel:this.toggleModal,onSubmit:this.deleteFile}),c.length>0&&!d?l.a.createElement(U,{infoBlockHeading:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0444\u0430\u0439\u043b\u044b \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u044b:",infoBlockMessage:u,transparent:!0,positionAbsolute:!0,showIcon:!0,src:de.a,alt:"Warning icon",footerContent:l.a.createElement(l.a.Fragment,null,l.a.createElement(K,{id:"file-input-additional",type:"file",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u0430\u0439\u043b",onClick:this.openFileDialog,onChange:this.handleFileInputChange}),l.a.createElement(_,{onClick:this.closeInfoBlock,buttonText:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c",secondaryButton:!0}))},l.a.createElement(le,null,c.map((function(e){return l.a.createElement(n.Fragment,{key:ce()},l.a.createElement(ie,null,"\u0424\u0430\u0439\u043b"," ",oe(e.name)))})))):null,d?l.a.createElement(U,{infoBlockHeading:"\u0410\u0441\u0442\u0430\u043d\u0430\u0432\u0438\u0442\u0435\u0441\u044c!",infoBlockMessage:u,transparent:!0,positionAbsolute:!0,showIcon:!0,src:de.a,alt:"Warning icon",footerContent:l.a.createElement(_,{onClick:this.closeInfoBlock,buttonText:"\u041f\u043e\u043d\u044f\u0442\u043d\u043e",secondaryButton:!0,centered:!0})}):null,l.a.createElement(K,{ref:this.fileInputRef,id:"file-input",type:"file",label:"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b",onClick:this.handleFileInputClick,onChange:this.handleFileInputChange}))}}]),t}(n.Component);he.defaultProps={storeFileInRedux:function(){},removeFileFromReduxStore:function(){}};var fe=Object(s.b)(null,(function(e){return{storeFileInRedux:function(t,a){return e(function(e,t){return{type:g,payload:{name:e,content:t}}}(t,a))},removeFileFromReduxStore:function(t){return e(function(e){return{type:v,payload:{name:e}}}(t))}}}))(he);var pe=function(e,t){return{type:f,payload:{inputName:e,inputValue:t}}};var ge=function(e,t){return{type:p,payload:{sendingDate:e,messageSubject:t}}};var ve=function(){return{type:b}},be=a(25),Fe=new(a.n(be).a)({apiKey:"182X7bBv3Ibe7VFJVJZlg-6gGx-8eqkito0sOlnTjT8XMlt2p37KDm93ZaaqE15CIghlBxOIOu2xLcUkC"});function Ee(e){return{type:F,payload:{id:e}}}function Se(){return function(e,t){var a,n=t().sendFormReducer,l={action:"issue.send.test",letter:{subject:n.messageSubject,"from.name":n.senderName,"from.email":n.senderEmail,"to.name":n.receiverName,message:{text:n.messageText},attaches:n.attachedFiles},sendwhen:"test",mca:[n.receiverEmail]};(a=l,Fe.request(a).then((function(e){return e})).catch((function(e){return e}))).then((function(e){return e["track.id"]})).then((function(t){var a=parseInt(t,10);e(Ee(a))})).catch((function(e){return e}))}}function ke(e){return function(t){e&&function(e){var t={action:"track.get",id:e};return Fe.request(t).then((function(e){return e})).catch((function(e){return e}))}(e).then((function(e){var a=parseInt(e.obj.id,10),n=parseInt(e.obj.status,10);t(function(e,t){return{type:E,payload:{id:e,status:t}}}(a,n))})).catch((function(e){return e}))}}var ye={inputs:[{id:"sender-name-input",type:"text",name:"senderName",label:"\u041e\u0442 \u043a\u043e\u0433\u043e",placeholder:"\u0418\u043c\u044f",inputHalfLeft:!0,errorMessage:'\u041f\u043e\u043b\u0435 "\u041e\u0442 \u043a\u043e\u0433\u043e" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c'},{id:"sender-email-input",type:"email",name:"senderEmail",placeholder:"Email",inputHalfRight:!0,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email"},{id:"receiver-name-input",type:"text",name:"receiverName",label:"\u041a\u043e\u043c\u0443",placeholder:"\u0418\u043c\u044f",inputHalfLeft:!0,errorMessage:'\u041f\u043e\u043b\u0435 "\u041a\u043e\u043c\u0443" \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c'},{id:"receiver-email-input",type:"email",name:"receiverEmail",placeholder:"Email",inputHalfRight:!0,errorMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 Email"},{id:"message-subject-input",type:"text",name:"messageSubject",label:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430",placeholder:"",errorMessage:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439"}],textarea:{id:"message-content",name:"messageText",label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",placeholder:"",errorMessage:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},submitButton:{type:"submit",buttonText:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},infoBlock:{heading:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u044c \u043d\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0443"}};var Ne=function(e){return e.toLocaleString("ru",{month:"long",day:"numeric"})};function je(e,t,a,n,l,r){var i=/\S+@\S+\.\S+/,s=t.match(i),o=n.match(i);return{senderName:0===e.length,senderEmail:0===t.length||null===s,receiverName:0===a.length,receiverEmail:0===n.length||null===o,messageSubject:0===l.length,messageText:0===r.length}}var Oe=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(O.a)(this,Object(I.a)(t).call(this,e))).state={isMessageSendFormShowed:!0,isInfoBlockShowed:!1,senderName:"",senderEmail:"",receiverName:"",receiverEmail:"",messageSubject:"",messageText:"",touched:{senderName:!1,senderEmail:!1,receiverName:!1,receiverEmail:!1,messageSubject:!1,messageText:!1}},a.baseState=a.state,a.fileInput=l.a.createRef(),a.handleInputChange=a.handleInputChange.bind(Object(M.a)(a)),a.canBeSubmitted=a.canBeSubmitted.bind(Object(M.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(M.a)(a)),a.handleInputBlur=a.handleInputBlur.bind(Object(M.a)(a)),a.toggleInfoBlock=a.toggleInfoBlock.bind(Object(M.a)(a)),a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(x.a)({},n,a)),(0,this.props.getInputVal)(n,a)}},{key:"handleInputBlur",value:function(e){var t=e.target.name,a=this.state.touched;this.setState({touched:Object(m.a)({},a,Object(x.a)({},t,!0))})}},{key:"canBeSubmitted",value:function(){var e=this.state,t=je(e.senderName,e.senderEmail,e.receiverName,e.receiverEmail,e.messageSubject,e.messageText);return!Object.keys(t).some((function(e){return t[e]}))}},{key:"toggleInfoBlock",value:function(){this.hideWithTimer(),this.setState((function(e){return{isMessageSendFormShowed:!e.isMessageSendFormShowed,isInfoBlockShowed:!e.isInfoBlockShowed}}))}},{key:"hideWithTimer",value:function(){var e=this;this.timer=setTimeout((function(){e.toggleAndResetForm()}),5e3)}},{key:"toggleAndResetForm",value:function(){this.setState((function(e){return{isMessageSendFormShowed:!e.isMessageSendFormShowed,isInfoBlockShowed:!e.isInfoBlockShowed}})),this.resetForm()}},{key:"resetForm",value:function(){this.setState(this.baseState)}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.canBeSubmitted()){var t=this.state.messageSubject,a=this.props,n=a.sentMessageInfo,l=a.sendForm,r=a.resetFormInStore,i=a.getMessageID;n(Ne(new Date),t),l(),i(),r(),this.toggleInfoBlock()}}},{key:"render",value:function(){var e=this,t=this.state,a=t.isMessageSendFormShowed,r=t.senderName,i=t.senderEmail,s=t.receiverName,o=t.receiverEmail,c=t.messageSubject,u=t.messageText,d=t.touched,m=je(r,i,s,o,c,u),h=Object.keys(m).some((function(e){return m[e]})),f=function(e){var t=m[e],a=d[e];return!!t&&a};return l.a.createElement(l.a.Fragment,null,a?l.a.createElement(A,{onSubmit:this.handleSubmit,encType:"multipart/form-data"},ye.inputs.map((function(t){return l.a.createElement(n.Fragment,{key:t.id},l.a.createElement(L,{id:t.id,type:t.type,name:t.name,label:t.label,placeholder:t.placeholder,onChange:e.handleInputChange,onBlur:e.handleInputBlur,inputHalfLeft:t.inputHalfLeft,inputHalfRight:t.inputHalfRight,value:e.state,error:f(t.name),errorMessage:t.errorMessage}))})),l.a.createElement(z,{id:ye.textarea.id,name:ye.textarea.name,label:ye.textarea.label,placeholder:ye.textarea.placeholder,value:this.state,onChange:this.handleInputChange,onBlur:this.handleInputBlur,error:f(ye.textarea.name),errorMessage:ye.textarea.errorMessage}),l.a.createElement(fe,null),l.a.createElement(_,{type:ye.submitButton.type,disabled:h,buttonText:ye.submitButton.buttonText})):l.a.createElement(U,{infoBlockHeading:ye.infoBlock.heading,infoBlockMessage:"\u0421\u043e\u0432\u0441\u0435\u043c \u0441\u043a\u043e\u0440\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0432\u044b\u043b\u0435\u0442\u0438\u0442 \u0438\u0437 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0438 \u0431\u0443\u0434\u0435\u0442 \u0434\u0432\u0438\u0433\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u0443 \u043f\u043e\u0447\u0442\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044f\n                 \xab".concat(o,"\xbb\n                 \u0441\u043e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c\u044e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043e\u0432."),hideBlockOnTimer:this.toggleInfoBlock}))}}]),t}(n.Component);Oe.defaultProps={getInputVal:function(){},sentMessageInfo:function(){},sendForm:function(){},resetFormInStore:function(){},getMessageID:function(){}};var Ie=Object(s.b)(null,(function(e){return{getInputVal:function(t,a){return e(pe(t,a))},sentMessageInfo:function(t,a){return e(ge(t,a))},resetFormInStore:function(){return e(ve())},sendForm:function(){return e(Se())},getMessageID:function(){return e(Ee())}}}))(Oe);a(49);function Me(e){var t=e.data,a=e.className,n=B()("Table",a);return l.a.createElement("table",{className:n},l.a.createElement("thead",null,l.a.createElement("tr",{className:"Table-rowHeading"},l.a.createElement("th",{className:"Table-cell Table-cellHeading"},"\u0414\u0430\u0442\u0430"),l.a.createElement("th",{className:"Table-cell Table-cellHeading"},"\u0422\u0435\u043c\u0430"),l.a.createElement("th",{className:"Table-cell Table-cellHeading"},"\u0421\u0442\u0430\u0442\u0443\u0441"))),l.a.createElement("tbody",null,t.map((function(e){return l.a.createElement("tr",{className:"Table-row",key:ce()},l.a.createElement("td",{className:"Table-cell"},e.date),l.a.createElement("td",{className:"Table-cell"},l.a.createElement("span",{className:"Table-cellMessageTheme"},e.subject)),l.a.createElement("td",{className:"Table-cell Table-cellStatus"},e.statusValue>-1&&l.a.createElement("span",{className:"is-waiting"},e.status),e.statusValue<-1&&l.a.createElement("span",{className:"is-error"},e.status),-1===e.statusValue&&l.a.createElement("span",{className:"is-success"},e.status)))}))))}Me.defaultProps={data:[{date:"",subject:"",status:""}],className:""};var Te=Me,De=function(e,t){return e.length===t.length&&e.every((function(e,a){return function e(t,a){return"object"===typeof t&&Object.keys(t).length>0?Object.keys(t).length===Object.keys(a).length&&Object.keys(t).every((function(n){return e(t[n],a[n])})):t===a}(e,t[a])}))},Be=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(O.a)(this,Object(I.a)(t).call(this,e))).checkUpdates=a.checkUpdates.bind(Object(M.a)(a)),a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){this.interval=setInterval(this.checkUpdates,1e4)}},{key:"componentDidUpdate",value:function(e){var t=this.props.sendedMessages;De(e.sendedMessages,t)||(this.interval=setInterval(this.checkUpdates,1e4)),De(e.sendedMessages,t)&&clearInterval(this.interval)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"checkUpdates",value:function(){var e=this.props,t=e.getMessageStatus;e.sendedMessages.forEach((function(e){e.statusValue>-1&&t(e.id)}))}},{key:"render",value:function(){var e=this.props.sendedMessages;return l.a.createElement(l.a.Fragment,null,e.length<1?l.a.createElement("p",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0435\u0449\u0451 \u043d\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u043b\u0438\u0441\u044c"):l.a.createElement(Te,{data:e}))}}]),t}(n.Component);Be.defaultProps={sendedMessages:[{id:"",date:"",subject:"",status:"",statusValue:""}],getMessageStatus:function(){}};var Ce=Object(s.b)((function(e){return{sendedMessages:e.sendFormReducer.sendedMessages}}),(function(e){return{getMessageStatus:function(t){return e(ke(t))}}}))(Be),we=(a(50),a(26)),xe=a.n(we),Re=function(e){function t(e){var a;return Object(N.a)(this,t),(a=Object(O.a)(this,Object(I.a)(t).call(this,e))).preventFileDrop=a.preventFileDrop.bind(Object(M.a)(a)),a.preventFileDragover=a.preventFileDragover.bind(Object(M.a)(a)),a}return Object(T.a)(t,e),Object(j.a)(t,[{key:"preventFileDrop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"preventFileDragover",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){return l.a.createElement("div",{className:"AppLayoutWrapper",onDrop:this.preventFileDrop,onDragOver:this.preventFileDragover},l.a.createElement("div",{className:"AppLogoWrapper"},l.a.createElement(w,{src:xe.a,alt:"App logo",className:"AppLogo"})),l.a.createElement("div",{className:"u-marginBottom"},l.a.createElement(Ie,null)),l.a.createElement("section",{className:"SendedMessagesInfo u-marginBottom"},l.a.createElement("h2",{className:"Heading SendedMessagesInfo-mainHeading  u-letterSpacing"},"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),l.a.createElement(Ce,null)))}}]),t}(n.Component);var Ae=function(){return l.a.createElement(Re,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(51);i.a.render(l.a.createElement(s.a,{store:y},l.a.createElement(Ae,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}]),[[27,1,2]]]);
//# sourceMappingURL=main.9d389112.chunk.js.map